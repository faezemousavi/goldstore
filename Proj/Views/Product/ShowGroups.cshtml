@model IEnumerable<DataLayer.Products_group>

<section class="border-radius category-side">
    <header><h3> دسته بندی ها </h3></header>
    <article>
        <ul class="category-menu">
            @foreach (var group in Model.Where(g => g.Parent_id == null))
            {
                <li>
                    <h2><a href="/Archive?selectedGroups=@group.Group_id">@group.Group_title</a></h2>
                    @if (Model.Any(g => g.Parent_id == group.Group_id))
                    {
                        <ul class="child-category-menu">
                            @foreach(var subgroup in Model.Where(g => g.Parent_id == group.Group_id))
                            {
                                <li><h3><a href="/Archive?selectedGroups=@subgroup.Group_id">@subgroup.Group_title</a> </h3></li>
                            }
                        </ul>
                    }



       
            </li>


        }


            </ul>
        </article>
    </section>
